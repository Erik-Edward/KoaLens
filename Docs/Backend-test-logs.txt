info: Video analysis request received {"dataSize":13839244,"mimeType":"video/quicktime","preferredLanguage":"sv","requestId":"not-provided","service":"koalens-backend","timestamp":"2025-04-01T12:28:55.231Z"}
info: Video analysis request received {"clientInfo":{},"dataSizeBytes":13839244,"mimeType":"video/quicktime","operation":"request","preferredLanguage":"sv","requestId":"not-provided","service":"videoAnalysis","timestamp":"2025-04-01T12:28:55.232Z"}
info: Video analysis request received {"dataSize":13839244,"mimeType":"video/quicktime","preferredLanguage":"sv","requestId":"not-provided","service":"koalens-backend","timestamp":"2025-04-01T12:28:55.333Z"}
info: Video analysis request received {"clientInfo":{},"dataSizeBytes":13839244,"mimeType":"video/quicktime","operation":"request","preferredLanguage":"sv","requestId":"not-provided","service":"videoAnalysis","timestamp":"2025-04-01T12:28:55.334Z"}
info: Video analysis request received {"dataSize":13839244,"mimeType":"video/quicktime","preferredLanguage":"sv","requestId":"not-provided","service":"koalens-backend","timestamp":"2025-04-01T12:28:56.132Z"}
info: Video analysis request received {"clientInfo":{},"dataSizeBytes":13839244,"mimeType":"video/quicktime","operation":"request","preferredLanguage":"sv","requestId":"not-provided","service":"videoAnalysis","timestamp":"2025-04-01T12:28:56.133Z"}
info: Video optimization completed {"compressionRatio":"2.71","optimizedSizeMB":"3.66","originalSizeMB":"9.90","service":"koalens-backend","timestamp":"2025-04-01T12:29:04.163Z"}
info: Sending video for AI analysis {"promptLength":2290,"service":"koalens-backend","timestamp":"2025-04-01T12:29:04.170Z","videoSizeKB":3747}
info: AI Request [gemini] {"generationConfig":{"maxOutputTokens":1536,"temperature":0.2,"topK":40,"topP":0.95},"mediaSizeBytes":3836805,"mediaType":"video/mp4","prompt":"\nDu är en expert på att analysera matprodukter och identifiera deras ingredienser för att avgöra om produkten är vegansk.\n\nINSTRUKTIONER:\n1. Analysera videon NOGGRANT. Identifiera ingredienserna som tydligt VISAS på produktens förpackning.\n2. Fokusera på ingredienslistan i videon.\n3. Översätt ALLA identifierade ingredienser till svenska. Använd vanliga svenska livsmedelsnamn.\n4. Bedöm om produkten är vegansk. En ingrediens är *inte* vegansk om den *definitivt* kommer från djur.\n   - Icke-veganska ingredienser: ägg, mjölk, ost, grädde, kött, fisk, gelatin, honung, bivax, lanolin, etc.\n   - Extra uppmärksam på E-nummer:\n     - E120 (karmin), E441 (gelatin), E901 (bivax), E904 (shellack), E920 (L-cystein) är INTE veganska.\n     - Andra E-nummer kan vara osäkra, men försök identifiera alla E-nummer du ser i ingredienslistan.\n   - Sojabaserade produkter (tofu, tempeh, sojasås, etc.) är ALLTID veganska.\n5. Lista varje identifierad ingrediens ENBART EN gång på svenska.\n\nSVARA ENDAST med ett JSON-objekt i detta format (utan extra text före eller efter):\n\n```json\n{\n  \"ingredients\": [\n    {\n      \"name\": \"ingrediensnamn på svenska\",\n      \"isVegan\": true/false,\n      \"confidence\": 0.0-1.0\n    }\n  ],\n  \"isVegan\": true/false,\n  \"confidence\": 0.0-1.0\n}\n```\n\nExempel på korrekt svar:\n\n```json\n{\n  \"ingredients\": [\n    {\n      \"name\": \"Majskorn\",\n      \"isVegan\": true,\n      \"confidence\": 0.98\n    },\n    {\n      \"name\": \"Palmolja\",\n      \"isVegan\": true,\n      \"confidence\": 0.95\n    },\n    {\n      \"name\": \"E471\",\n      \"isVegan\": false,\n      \"confidence\": 0.95\n    },\n    {\n      \"name\": \"Salt\",\n      \"isVegan\": true,\n      \"confidence\": 0.99\n    }\n  ],\n  \"isVegan\": false,\n  \"confidence\": 0.97\n}\n```\n\nExempel på svar om inga ingredienser kan identifieras:\n\n```json\n{\n  \"ingredients\": [],\n  \"isVegan\": false,\n  \"confidence\": 0.0\n}\n```\n\nSe till att:\n1. Följa det exakta JSON-formatet UTAN extra text före eller efter.\n2. ALLTID översätta alla identifierade ingredienser till svenska.\n3. Ange \"confidence\" som ett nummer mellan 0 och 1.\n4. Markera ingredienser korrekt som veganska/icke-veganska.\n5. Inkludera ALLA identifierade ingredienser.\n6. Endast inkludera ingredienser som du FAKTISKT KAN SE i videon.\n7. Var extra uppmärksam på E-nummer och försök identifiera alla du ser.\n","provider":"gemini","service":"koalens-backend","timestamp":"2025-04-01T12:29:04.171Z"}
info: Video optimization completed {"compressionRatio":"2.71","optimizedSizeMB":"3.66","originalSizeMB":"9.90","service":"koalens-backend","timestamp":"2025-04-01T12:29:04.476Z"}
info: Sending video for AI analysis {"promptLength":2290,"service":"koalens-backend","timestamp":"2025-04-01T12:29:04.483Z","videoSizeKB":3747}
info: AI Request [gemini] {"generationConfig":{"maxOutputTokens":1536,"temperature":0.2,"topK":40,"topP":0.95},"mediaSizeBytes":3836805,"mediaType":"video/mp4","prompt":"\nDu är en expert på att analysera matprodukter och identifiera deras ingredienser för att avgöra om produkten är vegansk.\n\nINSTRUKTIONER:\n1. Analysera videon NOGGRANT. Identifiera ingredienserna som tydligt VISAS på produktens förpackning.\n2. Fokusera på ingredienslistan i videon.\n3. Översätt ALLA identifierade ingredienser till svenska. Använd vanliga svenska livsmedelsnamn.\n4. Bedöm om produkten är vegansk. En ingrediens är *inte* vegansk om den *definitivt* kommer från djur.\n   - Icke-veganska ingredienser: ägg, mjölk, ost, grädde, kött, fisk, gelatin, honung, bivax, lanolin, etc.\n   - Extra uppmärksam på E-nummer:\n     - E120 (karmin), E441 (gelatin), E901 (bivax), E904 (shellack), E920 (L-cystein) är INTE veganska.\n     - Andra E-nummer kan vara osäkra, men försök identifiera alla E-nummer du ser i ingredienslistan.\n   - Sojabaserade produkter (tofu, tempeh, sojasås, etc.) är ALLTID veganska.\n5. Lista varje identifierad ingrediens ENBART EN gång på svenska.\n\nSVARA ENDAST med ett JSON-objekt i detta format (utan extra text före eller efter):\n\n```json\n{\n  \"ingredients\": [\n    {\n      \"name\": \"ingrediensnamn på svenska\",\n      \"isVegan\": true/false,\n      \"confidence\": 0.0-1.0\n    }\n  ],\n  \"isVegan\": true/false,\n  \"confidence\": 0.0-1.0\n}\n```\n\nExempel på korrekt svar:\n\n```json\n{\n  \"ingredients\": [\n    {\n      \"name\": \"Majskorn\",\n      \"isVegan\": true,\n      \"confidence\": 0.98\n    },\n    {\n      \"name\": \"Palmolja\",\n      \"isVegan\": true,\n      \"confidence\": 0.95\n    },\n    {\n      \"name\": \"E471\",\n      \"isVegan\": false,\n      \"confidence\": 0.95\n    },\n    {\n      \"name\": \"Salt\",\n      \"isVegan\": true,\n      \"confidence\": 0.99\n    }\n  ],\n  \"isVegan\": false,\n  \"confidence\": 0.97\n}\n```\n\nExempel på svar om inga ingredienser kan identifieras:\n\n```json\n{\n  \"ingredients\": [],\n  \"isVegan\": false,\n  \"confidence\": 0.0\n}\n```\n\nSe till att:\n1. Följa det exakta JSON-formatet UTAN extra text före eller efter.\n2. ALLTID översätta alla identifierade ingredienser till svenska.\n3. Ange \"confidence\" som ett nummer mellan 0 och 1.\n4. Markera ingredienser korrekt som veganska/icke-veganska.\n5. Inkludera ALLA identifierade ingredienser.\n6. Endast inkludera ingredienser som du FAKTISKT KAN SE i videon.\n7. Var extra uppmärksam på E-nummer och försök identifiera alla du ser.\n","provider":"gemini","service":"koalens-backend","timestamp":"2025-04-01T12:29:04.484Z"}
info: Video optimization completed {"compressionRatio":"2.71","optimizedSizeMB":"3.66","originalSizeMB":"9.90","service":"koalens-backend","timestamp":"2025-04-01T12:29:05.714Z"}
info: Sending video for AI analysis {"promptLength":2290,"service":"koalens-backend","timestamp":"2025-04-01T12:29:05.718Z","videoSizeKB":3747}
info: AI Request [gemini] {"generationConfig":{"maxOutputTokens":1536,"temperature":0.2,"topK":40,"topP":0.95},"mediaSizeBytes":3836805,"mediaType":"video/mp4","prompt":"\nDu är en expert på att analysera matprodukter och identifiera deras ingredienser för att avgöra om produkten är vegansk.\n\nINSTRUKTIONER:\n1. Analysera videon NOGGRANT. Identifiera ingredienserna som tydligt VISAS på produktens förpackning.\n2. Fokusera på ingredienslistan i videon.\n3. Översätt ALLA identifierade ingredienser till svenska. Använd vanliga svenska livsmedelsnamn.\n4. Bedöm om produkten är vegansk. En ingrediens är *inte* vegansk om den *definitivt* kommer från djur.\n   - Icke-veganska ingredienser: ägg, mjölk, ost, grädde, kött, fisk, gelatin, honung, bivax, lanolin, etc.\n   - Extra uppmärksam på E-nummer:\n     - E120 (karmin), E441 (gelatin), E901 (bivax), E904 (shellack), E920 (L-cystein) är INTE veganska.\n     - Andra E-nummer kan vara osäkra, men försök identifiera alla E-nummer du ser i ingredienslistan.\n   - Sojabaserade produkter (tofu, tempeh, sojasås, etc.) är ALLTID veganska.\n5. Lista varje identifierad ingrediens ENBART EN gång på svenska.\n\nSVARA ENDAST med ett JSON-objekt i detta format (utan extra text före eller efter):\n\n```json\n{\n  \"ingredients\": [\n    {\n      \"name\": \"ingrediensnamn på svenska\",\n      \"isVegan\": true/false,\n      \"confidence\": 0.0-1.0\n    }\n  ],\n  \"isVegan\": true/false,\n  \"confidence\": 0.0-1.0\n}\n```\n\nExempel på korrekt svar:\n\n```json\n{\n  \"ingredients\": [\n    {\n      \"name\": \"Majskorn\",\n      \"isVegan\": true,\n      \"confidence\": 0.98\n    },\n    {\n      \"name\": \"Palmolja\",\n      \"isVegan\": true,\n      \"confidence\": 0.95\n    },\n    {\n      \"name\": \"E471\",\n      \"isVegan\": false,\n      \"confidence\": 0.95\n    },\n    {\n      \"name\": \"Salt\",\n      \"isVegan\": true,\n      \"confidence\": 0.99\n    }\n  ],\n  \"isVegan\": false,\n  \"confidence\": 0.97\n}\n```\n\nExempel på svar om inga ingredienser kan identifieras:\n\n```json\n{\n  \"ingredients\": [],\n  \"isVegan\": false,\n  \"confidence\": 0.0\n}\n```\n\nSe till att:\n1. Följa det exakta JSON-formatet UTAN extra text före eller efter.\n2. ALLTID översätta alla identifierade ingredienser till svenska.\n3. Ange \"confidence\" som ett nummer mellan 0 och 1.\n4. Markera ingredienser korrekt som veganska/icke-veganska.\n5. Inkludera ALLA identifierade ingredienser.\n6. Endast inkludera ingredienser som du FAKTISKT KAN SE i videon.\n7. Var extra uppmärksam på E-nummer och försök identifiera alla du ser.\n","provider":"gemini","service":"koalens-backend","timestamp":"2025-04-01T12:29:05.719Z"}
info: AI Response [gemini] {"completionTokens":371.75,"mediaTokens":"Video content","promptTokens":572.5,"provider":"gemini","responseText":"```json\n{\n  \"ingredients\": [\n    {\n      \"name\": \"Majs\",\n      \"isVegan\": true,\n      \"confidence\": ...","service":"koalens-backend","timestamp":"2025-04-01T12:29:09.191Z"}
warn: Direct JSON parsing failed for AI response. Falling back to regex extraction. {"fullResponse":"```json\n{\n  \"ingredients\": [\n    {\n      \"name\": \"Majs\",\n      \"isVegan\": true,\n      \"confidence\": 1.0\n    },\n    {\n      \"name\": \"Rapsolja\",\n      \"isVegan\": true,\n      \"confidence\": 1.0\n    },\n    {\n      \"name\": \"Vasslepulver\",\n      \"isVegan\": false,\n      \"confidence\": 1.0\n    },\n    {\n      \"name\": \"Salt\",\n      \"isVegan\": true,\n      \"confidence\": 1.0\n    },\n    {\n      \"name\": \"Kärnmjölkspulver\",\n      \"isVegan\": false,\n      \"confidence\": 1.0\n    },\n    {\n      \"name\": \"Ostpulver\",\n      \"isVegan\": false,\n      \"confidence\": 1.0\n    },\n    {\n      \"name\": \"Lökpulver\",\n      \"isVegan\": true,\n      \"confidence\": 1.0\n    },\n    {\n      \"name\": \"Tomatpulver\",\n      \"isVegan\": true,\n      \"confidence\": 1.0\n    },\n    {\n      \"name\": \"Dextros\",\n      \"isVegan\": true,\n      \"confidence\": 1.0\n    },\n    {\n      \"name\": \"Vitlökspulver\",\n      \"isVegan\": true,\n      \"confidence\": 1.0\n    },\n    {\n      \"name\": \"Arom\",\n      \"isVegan\": true,\n      \"confidence\": 0.7\n    },\n    {\n      \"name\": \"Äppelsyra\",\n      \"isVegan\": true,\n      \"confidence\": 1.0\n    },\n    {\n      \"name\": \"Persilja\",\n      \"isVegan\": true,\n      \"confidence\": 1.0\n    },\n    {\n      \"name\": \"Natriumdiacetat\",\n      \"isVegan\": true,\n      \"confidence\": 0.9\n    },\n    {\n      \"name\": \"Cayennepeppar\",\n      \"isVegan\": true,\n      \"confidence\": 1.0\n    },\n    {\n      \"name\": \"Paprikaoleoresin\",\n      \"isVegan\": true,\n      \"confidence\": 1.0\n    }\n  ],\n  \"isVegan\": false,\n  \"confidence\": 1.0\n}\n```","service":"koalens-backend","timestamp":"2025-04-01T12:29:09.192Z"}
info: Successfully parsed and enhanced AI analysis result {"ingredientCount":16,"isUncertain":false,"isVegan":false,"service":"koalens-backend","timestamp":"2025-04-01T12:29:09.196Z"}
info: Video analysis completed {"confidenceScore":1,"ingredientCount":16,"isUncertain":false,"isVegan":false,"operation":"response:success","processingTimeSec":0,"requestId":"not-provided","service":"videoAnalysis","statusCode":200,"timestamp":"2025-04-01T12:29:09.196Z","uncertainIngredientsCount":0}
info: Video analysis completed {"ingredientCount":16,"isVegan":false,"processingTimeSec":"13.87","requestId":"not-provided","service":"koalens-backend","timestamp":"2025-04-01T12:29:09.201Z"}
info: AI Response [gemini] {"completionTokens":377.75,"mediaTokens":"Video content","promptTokens":572.5,"provider":"gemini","responseText":"```json\n{\n  \"ingredients\": [\n    {\n      \"name\": \"Majs\",\n      \"isVegan\": true,\n      \"confidence\": ...","service":"koalens-backend","timestamp":"2025-04-01T12:29:09.223Z"}
warn: Direct JSON parsing failed for AI response. Falling back to regex extraction. {"fullResponse":"```json\n{\n  \"ingredients\": [\n    {\n      \"name\": \"Majs\",\n      \"isVegan\": true,\n      \"confidence\": 0.99\n    },\n    {\n      \"name\": \"Rapsolja\",\n      \"isVegan\": true,\n      \"confidence\": 0.99\n    },\n    {\n      \"name\": \"Vasslepulver (från mjölk)\",\n      \"isVegan\": false,\n      \"confidence\": 1.0\n    },\n    {\n      \"name\": \"Salt\",\n      \"isVegan\": true,\n      \"confidence\": 0.99\n    },\n    {\n      \"name\": \"Kärnmjölkspulver\",\n      \"isVegan\": false,\n      \"confidence\": 1.0\n    },\n    {\n      \"name\": \"Ostpulver\",\n      \"isVegan\": false,\n      \"confidence\": 1.0\n    },\n    {\n      \"name\": \"Lökpulver\",\n      \"isVegan\": true,\n      \"confidence\": 0.99\n    },\n    {\n      \"name\": \"Tomatpulver\",\n      \"isVegan\": true,\n      \"confidence\": 0.99\n    },\n    {\n      \"name\": \"Dextros\",\n      \"isVegan\": true,\n      \"confidence\": 0.99\n    },\n    {\n      \"name\": \"Vitlökspulver\",\n      \"isVegan\": true,\n      \"confidence\": 0.99\n    },\n    {\n      \"name\": \"Arom\",\n      \"isVegan\": true,\n      \"confidence\": 0.6\n    },\n    {\n      \"name\": \"Äppelsyra\",\n      \"isVegan\": true,\n      \"confidence\": 0.99\n    },\n    {\n      \"name\": \"Persilja\",\n      \"isVegan\": true,\n      \"confidence\": 0.99\n    },\n    {\n      \"name\": \"Natriumdiacetat\",\n      \"isVegan\": true,\n      \"confidence\": 0.8\n    },\n    {\n      \"name\": \"Cayennepeppar\",\n      \"isVegan\": true,\n      \"confidence\": 0.99\n    },\n    {\n      \"name\": \"Paprikaoleoresin\",\n      \"isVegan\": true,\n      \"confidence\": 0.99\n    }\n  ],\n  \"isVegan\": false,\n  \"confidence\": 1.0\n}\n```","service":"koalens-backend","timestamp":"2025-04-01T12:29:09.224Z"}
info: Successfully parsed and enhanced AI analysis result {"ingredientCount":16,"isUncertain":false,"isVegan":false,"service":"koalens-backend","timestamp":"2025-04-01T12:29:09.226Z"}
info: Video analysis completed {"confidenceScore":0.99,"ingredientCount":16,"isUncertain":false,"isVegan":false,"operation":"response:success","processingTimeSec":0,"requestId":"not-provided","service":"videoAnalysis","statusCode":200,"timestamp":"2025-04-01T12:29:09.226Z","uncertainIngredientsCount":0}
info: Video analysis completed {"ingredientCount":16,"isVegan":false,"processingTimeSec":"14.00","requestId":"not-provided","service":"koalens-backend","timestamp":"2025-04-01T12:29:09.229Z"}
info: AI Response [gemini] {"completionTokens":378.75,"mediaTokens":"Video content","promptTokens":572.5,"provider":"gemini","responseText":"```json\n{\n  \"ingredients\": [\n    {\n      \"name\": \"Majs\",\n      \"isVegan\": true,\n      \"confidence\": ...","service":"koalens-backend","timestamp":"2025-04-01T12:29:10.098Z"}
warn: Direct JSON parsing failed for AI response. Falling back to regex extraction. {"fullResponse":"```json\n{\n  \"ingredients\": [\n    {\n      \"name\": \"Majs\",\n      \"isVegan\": true,\n      \"confidence\": 0.99\n    },\n    {\n      \"name\": \"Rapsolja\",\n      \"isVegan\": true,\n      \"confidence\": 0.99\n    },\n    {\n      \"name\": \"Vasslepulver (från mjölk)\",\n      \"isVegan\": false,\n      \"confidence\": 0.99\n    },\n    {\n      \"name\": \"Salt\",\n      \"isVegan\": true,\n      \"confidence\": 0.99\n    },\n    {\n      \"name\": \"Kärnmjölkspulver\",\n      \"isVegan\": false,\n      \"confidence\": 0.99\n    },\n    {\n      \"name\": \"Ostpulver\",\n      \"isVegan\": false,\n      \"confidence\": 0.99\n    },\n    {\n      \"name\": \"Lökpulver\",\n      \"isVegan\": true,\n      \"confidence\": 0.99\n    },\n    {\n      \"name\": \"Tomatpulver\",\n      \"isVegan\": true,\n      \"confidence\": 0.99\n    },\n    {\n      \"name\": \"Dextros\",\n      \"isVegan\": true,\n      \"confidence\": 0.99\n    },\n    {\n      \"name\": \"Vitlökspulver\",\n      \"isVegan\": true,\n      \"confidence\": 0.99\n    },\n    {\n      \"name\": \"Arom\",\n      \"isVegan\": true,\n      \"confidence\": 0.6\n    },\n    {\n      \"name\": \"Äppelsyra\",\n      \"isVegan\": true,\n      \"confidence\": 0.99\n    },\n    {\n      \"name\": \"Persilja\",\n      \"isVegan\": true,\n      \"confidence\": 0.99\n    },\n    {\n      \"name\": \"Natriumdiacetat\",\n      \"isVegan\": true,\n      \"confidence\": 0.8\n    },\n    {\n      \"name\": \"Cayennepeppar\",\n      \"isVegan\": true,\n      \"confidence\": 0.99\n    },\n    {\n      \"name\": \"Paprikaoleoresin\",\n      \"isVegan\": true,\n      \"confidence\": 0.99\n    }\n  ],\n  \"isVegan\": false,\n  \"confidence\": 0.99\n}\n```","service":"koalens-backend","timestamp":"2025-04-01T12:29:10.098Z"}
info: Successfully parsed and enhanced AI analysis result {"ingredientCount":16,"isUncertain":false,"isVegan":false,"service":"koalens-backend","timestamp":"2025-04-01T12:29:10.109Z"}
info: Video analysis completed {"confidenceScore":0.99,"ingredientCount":16,"isUncertain":false,"isVegan":false,"operation":"response:success","processingTimeSec":0,"requestId":"not-provided","service":"videoAnalysis","statusCode":200,"timestamp":"2025-04-01T12:29:10.109Z","uncertainIngredientsCount":0}
info: Video analysis completed {"ingredientCount":16,"isVegan":false,"processingTimeSec":"13.98","requestId":"not-provided","service":"koalens-backend","timestamp":"2025-04-01T12:29:10.112Z"}
info: Video analysis request received {"dataSize":13839244,"mimeType":"video/quicktime","preferredLanguage":"sv","requestId":"not-provided","service":"koalens-backend","timestamp":"2025-04-01T12:29:12.627Z"}
info: Video analysis request received {"clientInfo":{},"dataSizeBytes":13839244,"mimeType":"video/quicktime","operation":"request","preferredLanguage":"sv","requestId":"not-provided","service":"videoAnalysis","timestamp":"2025-04-01T12:29:12.628Z"}
info: Video analysis request received {"dataSize":13839244,"mimeType":"video/quicktime","preferredLanguage":"sv","requestId":"not-provided","service":"koalens-backend","timestamp":"2025-04-01T12:29:13.865Z"}
info: Video analysis request received {"clientInfo":{},"dataSizeBytes":13839244,"mimeType":"video/quicktime","operation":"request","preferredLanguage":"sv","requestId":"not-provided","service":"videoAnalysis","timestamp":"2025-04-01T12:29:13.866Z"}
info: Video optimization completed {"compressionRatio":"2.71","optimizedSizeMB":"3.66","originalSizeMB":"9.90","service":"koalens-backend","timestamp":"2025-04-01T12:29:18.181Z"}
info: Sending video for AI analysis {"promptLength":2290,"service":"koalens-backend","timestamp":"2025-04-01T12:29:18.191Z","videoSizeKB":3747}
info: AI Request [gemini] {"generationConfig":{"maxOutputTokens":1536,"temperature":0.2,"topK":40,"topP":0.95},"mediaSizeBytes":3836805,"mediaType":"video/mp4","prompt":"\nDu är en expert på att analysera matprodukter och identifiera deras ingredienser för att avgöra om produkten är vegansk.\n\nINSTRUKTIONER:\n1. Analysera videon NOGGRANT. Identifiera ingredienserna som tydligt VISAS på produktens förpackning.\n2. Fokusera på ingredienslistan i videon.\n3. Översätt ALLA identifierade ingredienser till svenska. Använd vanliga svenska livsmedelsnamn.\n4. Bedöm om produkten är vegansk. En ingrediens är *inte* vegansk om den *definitivt* kommer från djur.\n   - Icke-veganska ingredienser: ägg, mjölk, ost, grädde, kött, fisk, gelatin, honung, bivax, lanolin, etc.\n   - Extra uppmärksam på E-nummer:\n     - E120 (karmin), E441 (gelatin), E901 (bivax), E904 (shellack), E920 (L-cystein) är INTE veganska.\n     - Andra E-nummer kan vara osäkra, men försök identifiera alla E-nummer du ser i ingredienslistan.\n   - Sojabaserade produkter (tofu, tempeh, sojasås, etc.) är ALLTID veganska.\n5. Lista varje identifierad ingrediens ENBART EN gång på svenska.\n\nSVARA ENDAST med ett JSON-objekt i detta format (utan extra text före eller efter):\n\n```json\n{\n  \"ingredients\": [\n    {\n      \"name\": \"ingrediensnamn på svenska\",\n      \"isVegan\": true/false,\n      \"confidence\": 0.0-1.0\n    }\n  ],\n  \"isVegan\": true/false,\n  \"confidence\": 0.0-1.0\n}\n```\n\nExempel på korrekt svar:\n\n```json\n{\n  \"ingredients\": [\n    {\n      \"name\": \"Majskorn\",\n      \"isVegan\": true,\n      \"confidence\": 0.98\n    },\n    {\n      \"name\": \"Palmolja\",\n      \"isVegan\": true,\n      \"confidence\": 0.95\n    },\n    {\n      \"name\": \"E471\",\n      \"isVegan\": false,\n      \"confidence\": 0.95\n    },\n    {\n      \"name\": \"Salt\",\n      \"isVegan\": true,\n      \"confidence\": 0.99\n    }\n  ],\n  \"isVegan\": false,\n  \"confidence\": 0.97\n}\n```\n\nExempel på svar om inga ingredienser kan identifieras:\n\n```json\n{\n  \"ingredients\": [],\n  \"isVegan\": false,\n  \"confidence\": 0.0\n}\n```\n\nSe till att:\n1. Följa det exakta JSON-formatet UTAN extra text före eller efter.\n2. ALLTID översätta alla identifierade ingredienser till svenska.\n3. Ange \"confidence\" som ett nummer mellan 0 och 1.\n4. Markera ingredienser korrekt som veganska/icke-veganska.\n5. Inkludera ALLA identifierade ingredienser.\n6. Endast inkludera ingredienser som du FAKTISKT KAN SE i videon.\n7. Var extra uppmärksam på E-nummer och försök identifiera alla du ser.\n","provider":"gemini","service":"koalens-backend","timestamp":"2025-04-01T12:29:18.192Z"}
info: Video optimization completed {"compressionRatio":"2.71","optimizedSizeMB":"3.66","originalSizeMB":"9.90","service":"koalens-backend","timestamp":"2025-04-01T12:29:19.253Z"}
info: Sending video for AI analysis {"promptLength":2290,"service":"koalens-backend","timestamp":"2025-04-01T12:29:19.257Z","videoSizeKB":3747}
info: AI Request [gemini] {"generationConfig":{"maxOutputTokens":1536,"temperature":0.2,"topK":40,"topP":0.95},"mediaSizeBytes":3836805,"mediaType":"video/mp4","prompt":"\nDu är en expert på att analysera matprodukter och identifiera deras ingredienser för att avgöra om produkten är vegansk.\n\nINSTRUKTIONER:\n1. Analysera videon NOGGRANT. Identifiera ingredienserna som tydligt VISAS på produktens förpackning.\n2. Fokusera på ingredienslistan i videon.\n3. Översätt ALLA identifierade ingredienser till svenska. Använd vanliga svenska livsmedelsnamn.\n4. Bedöm om produkten är vegansk. En ingrediens är *inte* vegansk om den *definitivt* kommer från djur.\n   - Icke-veganska ingredienser: ägg, mjölk, ost, grädde, kött, fisk, gelatin, honung, bivax, lanolin, etc.\n   - Extra uppmärksam på E-nummer:\n     - E120 (karmin), E441 (gelatin), E901 (bivax), E904 (shellack), E920 (L-cystein) är INTE veganska.\n     - Andra E-nummer kan vara osäkra, men försök identifiera alla E-nummer du ser i ingredienslistan.\n   - Sojabaserade produkter (tofu, tempeh, sojasås, etc.) är ALLTID veganska.\n5. Lista varje identifierad ingrediens ENBART EN gång på svenska.\n\nSVARA ENDAST med ett JSON-objekt i detta format (utan extra text före eller efter):\n\n```json\n{\n  \"ingredients\": [\n    {\n      \"name\": \"ingrediensnamn på svenska\",\n      \"isVegan\": true/false,\n      \"confidence\": 0.0-1.0\n    }\n  ],\n  \"isVegan\": true/false,\n  \"confidence\": 0.0-1.0\n}\n```\n\nExempel på korrekt svar:\n\n```json\n{\n  \"ingredients\": [\n    {\n      \"name\": \"Majskorn\",\n      \"isVegan\": true,\n      \"confidence\": 0.98\n    },\n    {\n      \"name\": \"Palmolja\",\n      \"isVegan\": true,\n      \"confidence\": 0.95\n    },\n    {\n      \"name\": \"E471\",\n      \"isVegan\": false,\n      \"confidence\": 0.95\n    },\n    {\n      \"name\": \"Salt\",\n      \"isVegan\": true,\n      \"confidence\": 0.99\n    }\n  ],\n  \"isVegan\": false,\n  \"confidence\": 0.97\n}\n```\n\nExempel på svar om inga ingredienser kan identifieras:\n\n```json\n{\n  \"ingredients\": [],\n  \"isVegan\": false,\n  \"confidence\": 0.0\n}\n```\n\nSe till att:\n1. Följa det exakta JSON-formatet UTAN extra text före eller efter.\n2. ALLTID översätta alla identifierade ingredienser till svenska.\n3. Ange \"confidence\" som ett nummer mellan 0 och 1.\n4. Markera ingredienser korrekt som veganska/icke-veganska.\n5. Inkludera ALLA identifierade ingredienser.\n6. Endast inkludera ingredienser som du FAKTISKT KAN SE i videon.\n7. Var extra uppmärksam på E-nummer och försök identifiera alla du ser.\n","provider":"gemini","service":"koalens-backend","timestamp":"2025-04-01T12:29:19.257Z"}
info: AI Response [gemini] {"completionTokens":378.75,"mediaTokens":"Video content","promptTokens":572.5,"provider":"gemini","responseText":"```json\n{\n  \"ingredients\": [\n    {\n      \"name\": \"Majs\",\n      \"isVegan\": true,\n      \"confidence\": ...","service":"koalens-backend","timestamp":"2025-04-01T12:29:22.768Z"}
warn: Direct JSON parsing failed for AI response. Falling back to regex extraction. {"fullResponse":"```json\n{\n  \"ingredients\": [\n    {\n      \"name\": \"Majs\",\n      \"isVegan\": true,\n      \"confidence\": 0.99\n    },\n    {\n      \"name\": \"Rapsolja\",\n      \"isVegan\": true,\n      \"confidence\": 0.99\n    },\n    {\n      \"name\": \"Vasslepulver (från mjölk)\",\n      \"isVegan\": false,\n      \"confidence\": 0.99\n    },\n    {\n      \"name\": \"Salt\",\n      \"isVegan\": true,\n      \"confidence\": 0.99\n    },\n    {\n      \"name\": \"Kärnmjölkspulver\",\n      \"isVegan\": false,\n      \"confidence\": 0.99\n    },\n    {\n      \"name\": \"Ostpulver\",\n      \"isVegan\": false,\n      \"confidence\": 0.99\n    },\n    {\n      \"name\": \"Lökpulver\",\n      \"isVegan\": true,\n      \"confidence\": 0.99\n    },\n    {\n      \"name\": \"Tomatpulver\",\n      \"isVegan\": true,\n      \"confidence\": 0.99\n    },\n    {\n      \"name\": \"Dextros\",\n      \"isVegan\": true,\n      \"confidence\": 0.99\n    },\n    {\n      \"name\": \"Vitlökspulver\",\n      \"isVegan\": true,\n      \"confidence\": 0.99\n    },\n    {\n      \"name\": \"Arom\",\n      \"isVegan\": true,\n      \"confidence\": 0.8\n    },\n    {\n      \"name\": \"Äppelsyra\",\n      \"isVegan\": true,\n      \"confidence\": 0.99\n    },\n    {\n      \"name\": \"Persilja\",\n      \"isVegan\": true,\n      \"confidence\": 0.99\n    },\n    {\n      \"name\": \"Natriumdiacetat\",\n      \"isVegan\": true,\n      \"confidence\": 0.9\n    },\n    {\n      \"name\": \"Cayennepeppar\",\n      \"isVegan\": true,\n      \"confidence\": 0.99\n    },\n    {\n      \"name\": \"Paprikaoleoresin\",\n      \"isVegan\": true,\n      \"confidence\": 0.95\n    }\n  ],\n  \"isVegan\": false,\n  \"confidence\": 0.99\n}\n```","service":"koalens-backend","timestamp":"2025-04-01T12:29:22.768Z"}
info: Successfully parsed and enhanced AI analysis result {"ingredientCount":16,"isUncertain":false,"isVegan":false,"service":"koalens-backend","timestamp":"2025-04-01T12:29:22.770Z"}
info: Video analysis completed {"confidenceScore":0.99,"ingredientCount":16,"isUncertain":false,"isVegan":false,"operation":"response:success","processingTimeSec":0,"requestId":"not-provided","service":"videoAnalysis","statusCode":200,"timestamp":"2025-04-01T12:29:22.771Z","uncertainIngredientsCount":0}
info: Video analysis completed {"ingredientCount":16,"isVegan":false,"processingTimeSec":"10.15","requestId":"not-provided","service":"koalens-backend","timestamp":"2025-04-01T12:29:22.774Z"}
info: AI Response [gemini] {"completionTokens":378.5,"mediaTokens":"Video content","promptTokens":572.5,"provider":"gemini","responseText":"```json\n{\n  \"ingredients\": [\n    {\n      \"name\": \"Majs\",\n      \"isVegan\": true,\n      \"confidence\": ...","service":"koalens-backend","timestamp":"2025-04-01T12:29:23.498Z"}
warn: Direct JSON parsing failed for AI response. Falling back to regex extraction. {"fullResponse":"```json\n{\n  \"ingredients\": [\n    {\n      \"name\": \"Majs\",\n      \"isVegan\": true,\n      \"confidence\": 0.99\n    },\n    {\n      \"name\": \"Rapsolja\",\n      \"isVegan\": true,\n      \"confidence\": 0.99\n    },\n    {\n      \"name\": \"Vasslepulver (från mjölk)\",\n      \"isVegan\": false,\n      \"confidence\": 0.99\n    },\n    {\n      \"name\": \"Salt\",\n      \"isVegan\": true,\n      \"confidence\": 0.99\n    },\n    {\n      \"name\": \"Kärnmjölkspulver\",\n      \"isVegan\": false,\n      \"confidence\": 0.99\n    },\n    {\n      \"name\": \"Ostpulver\",\n      \"isVegan\": false,\n      \"confidence\": 0.99\n    },\n    {\n      \"name\": \"Lökpulver\",\n      \"isVegan\": true,\n      \"confidence\": 0.99\n    },\n    {\n      \"name\": \"Tomatpulver\",\n      \"isVegan\": true,\n      \"confidence\": 0.99\n    },\n    {\n      \"name\": \"Dextros\",\n      \"isVegan\": true,\n      \"confidence\": 0.99\n    },\n    {\n      \"name\": \"Vitlökspulver\",\n      \"isVegan\": true,\n      \"confidence\": 0.99\n    },\n    {\n      \"name\": \"Arom\",\n      \"isVegan\": true,\n      \"confidence\": 0.6\n    },\n    {\n      \"name\": \"Äppelsyra\",\n      \"isVegan\": true,\n      \"confidence\": 0.99\n    },\n    {\n      \"name\": \"Persilja\",\n      \"isVegan\": true,\n      \"confidence\": 0.99\n    },\n    {\n      \"name\": \"Natriumdiacetat\",\n      \"isVegan\": true,\n      \"confidence\": 0.8\n    },\n    {\n      \"name\": \"Cayennepeppar\",\n      \"isVegan\": true,\n      \"confidence\": 0.99\n    },\n    {\n      \"name\": \"Paprikaoleoresin\",\n      \"isVegan\": true,\n      \"confidence\": 0.9\n    }\n  ],\n  \"isVegan\": false,\n  \"confidence\": 0.99\n}\n```","service":"koalens-backend","timestamp":"2025-04-01T12:29:23.499Z"}
info: Successfully parsed and enhanced AI analysis result {"ingredientCount":16,"isUncertain":false,"isVegan":false,"service":"koalens-backend","timestamp":"2025-04-01T12:29:23.500Z"}
info: Video analysis completed {"confidenceScore":0.99,"ingredientCount":16,"isUncertain":false,"isVegan":false,"operation":"response:success","processingTimeSec":0,"requestId":"not-provided","service":"videoAnalysis","statusCode":200,"timestamp":"2025-04-01T12:29:23.500Z","uncertainIngredientsCount":0}
info: Video analysis completed {"ingredientCount":16,"isVegan":false,"processingTimeSec":"9.64","requestId":"not-provided","service":"koalens-backend","timestamp":"2025-04-01T12:29:23.503Z"}
info: Video analysis request received {"dataSize":13839244,"mimeType":"video/quicktime","preferredLanguage":"sv","requestId":"not-provided","service":"koalens-backend","timestamp":"2025-04-01T12:29:26.295Z"}
info: Video analysis request received {"clientInfo":{},"dataSizeBytes":13839244,"mimeType":"video/quicktime","operation":"request","preferredLanguage":"sv","requestId":"not-provided","service":"videoAnalysis","timestamp":"2025-04-01T12:29:26.296Z"}
info: Video analysis request received {"dataSize":13839244,"mimeType":"video/quicktime","preferredLanguage":"sv","requestId":"not-provided","service":"koalens-backend","timestamp":"2025-04-01T12:29:27.007Z"}
info: Video analysis request received {"clientInfo":{},"dataSizeBytes":13839244,"mimeType":"video/quicktime","operation":"request","preferredLanguage":"sv","requestId":"not-provided","service":"videoAnalysis","timestamp":"2025-04-01T12:29:27.007Z"}
info: Video optimization completed {"compressionRatio":"2.71","optimizedSizeMB":"3.66","originalSizeMB":"9.90","service":"koalens-backend","timestamp":"2025-04-01T12:29:31.525Z"}
info: Sending video for AI analysis {"promptLength":2290,"service":"koalens-backend","timestamp":"2025-04-01T12:29:31.532Z","videoSizeKB":3747}
info: AI Request [gemini] {"generationConfig":{"maxOutputTokens":1536,"temperature":0.2,"topK":40,"topP":0.95},"mediaSizeBytes":3836805,"mediaType":"video/mp4","prompt":"\nDu är en expert på att analysera matprodukter och identifiera deras ingredienser för att avgöra om produkten är vegansk.\n\nINSTRUKTIONER:\n1. Analysera videon NOGGRANT. Identifiera ingredienserna som tydligt VISAS på produktens förpackning.\n2. Fokusera på ingredienslistan i videon.\n3. Översätt ALLA identifierade ingredienser till svenska. Använd vanliga svenska livsmedelsnamn.\n4. Bedöm om produkten är vegansk. En ingrediens är *inte* vegansk om den *definitivt* kommer från djur.\n   - Icke-veganska ingredienser: ägg, mjölk, ost, grädde, kött, fisk, gelatin, honung, bivax, lanolin, etc.\n   - Extra uppmärksam på E-nummer:\n     - E120 (karmin), E441 (gelatin), E901 (bivax), E904 (shellack), E920 (L-cystein) är INTE veganska.\n     - Andra E-nummer kan vara osäkra, men försök identifiera alla E-nummer du ser i ingredienslistan.\n   - Sojabaserade produkter (tofu, tempeh, sojasås, etc.) är ALLTID veganska.\n5. Lista varje identifierad ingrediens ENBART EN gång på svenska.\n\nSVARA ENDAST med ett JSON-objekt i detta format (utan extra text före eller efter):\n\n```json\n{\n  \"ingredients\": [\n    {\n      \"name\": \"ingrediensnamn på svenska\",\n      \"isVegan\": true/false,\n      \"confidence\": 0.0-1.0\n    }\n  ],\n  \"isVegan\": true/false,\n  \"confidence\": 0.0-1.0\n}\n```\n\nExempel på korrekt svar:\n\n```json\n{\n  \"ingredients\": [\n    {\n      \"name\": \"Majskorn\",\n      \"isVegan\": true,\n      \"confidence\": 0.98\n    },\n    {\n      \"name\": \"Palmolja\",\n      \"isVegan\": true,\n      \"confidence\": 0.95\n    },\n    {\n      \"name\": \"E471\",\n      \"isVegan\": false,\n      \"confidence\": 0.95\n    },\n    {\n      \"name\": \"Salt\",\n      \"isVegan\": true,\n      \"confidence\": 0.99\n    }\n  ],\n  \"isVegan\": false,\n  \"confidence\": 0.97\n}\n```\n\nExempel på svar om inga ingredienser kan identifieras:\n\n```json\n{\n  \"ingredients\": [],\n  \"isVegan\": false,\n  \"confidence\": 0.0\n}\n```\n\nSe till att:\n1. Följa det exakta JSON-formatet UTAN extra text före eller efter.\n2. ALLTID översätta alla identifierade ingredienser till svenska.\n3. Ange \"confidence\" som ett nummer mellan 0 och 1.\n4. Markera ingredienser korrekt som veganska/icke-veganska.\n5. Inkludera ALLA identifierade ingredienser.\n6. Endast inkludera ingredienser som du FAKTISKT KAN SE i videon.\n7. Var extra uppmärksam på E-nummer och försök identifiera alla du ser.\n","provider":"gemini","service":"koalens-backend","timestamp":"2025-04-01T12:29:31.533Z"}
info: Video optimization completed {"compressionRatio":"2.71","optimizedSizeMB":"3.66","originalSizeMB":"9.90","service":"koalens-backend","timestamp":"2025-04-01T12:29:32.711Z"}
info: Sending video for AI analysis {"promptLength":2290,"service":"koalens-backend","timestamp":"2025-04-01T12:29:32.715Z","videoSizeKB":3747}
info: AI Request [gemini] {"generationConfig":{"maxOutputTokens":1536,"temperature":0.2,"topK":40,"topP":0.95},"mediaSizeBytes":3836805,"mediaType":"video/mp4","prompt":"\nDu är en expert på att analysera matprodukter och identifiera deras ingredienser för att avgöra om produkten är vegansk.\n\nINSTRUKTIONER:\n1. Analysera videon NOGGRANT. Identifiera ingredienserna som tydligt VISAS på produktens förpackning.\n2. Fokusera på ingredienslistan i videon.\n3. Översätt ALLA identifierade ingredienser till svenska. Använd vanliga svenska livsmedelsnamn.\n4. Bedöm om produkten är vegansk. En ingrediens är *inte* vegansk om den *definitivt* kommer från djur.\n   - Icke-veganska ingredienser: ägg, mjölk, ost, grädde, kött, fisk, gelatin, honung, bivax, lanolin, etc.\n   - Extra uppmärksam på E-nummer:\n     - E120 (karmin), E441 (gelatin), E901 (bivax), E904 (shellack), E920 (L-cystein) är INTE veganska.\n     - Andra E-nummer kan vara osäkra, men försök identifiera alla E-nummer du ser i ingredienslistan.\n   - Sojabaserade produkter (tofu, tempeh, sojasås, etc.) är ALLTID veganska.\n5. Lista varje identifierad ingrediens ENBART EN gång på svenska.\n\nSVARA ENDAST med ett JSON-objekt i detta format (utan extra text före eller efter):\n\n```json\n{\n  \"ingredients\": [\n    {\n      \"name\": \"ingrediensnamn på svenska\",\n      \"isVegan\": true/false,\n      \"confidence\": 0.0-1.0\n    }\n  ],\n  \"isVegan\": true/false,\n  \"confidence\": 0.0-1.0\n}\n```\n\nExempel på korrekt svar:\n\n```json\n{\n  \"ingredients\": [\n    {\n      \"name\": \"Majskorn\",\n      \"isVegan\": true,\n      \"confidence\": 0.98\n    },\n    {\n      \"name\": \"Palmolja\",\n      \"isVegan\": true,\n      \"confidence\": 0.95\n    },\n    {\n      \"name\": \"E471\",\n      \"isVegan\": false,\n      \"confidence\": 0.95\n    },\n    {\n      \"name\": \"Salt\",\n      \"isVegan\": true,\n      \"confidence\": 0.99\n    }\n  ],\n  \"isVegan\": false,\n  \"confidence\": 0.97\n}\n```\n\nExempel på svar om inga ingredienser kan identifieras:\n\n```json\n{\n  \"ingredients\": [],\n  \"isVegan\": false,\n  \"confidence\": 0.0\n}\n```\n\nSe till att:\n1. Följa det exakta JSON-formatet UTAN extra text före eller efter.\n2. ALLTID översätta alla identifierade ingredienser till svenska.\n3. Ange \"confidence\" som ett nummer mellan 0 och 1.\n4. Markera ingredienser korrekt som veganska/icke-veganska.\n5. Inkludera ALLA identifierade ingredienser.\n6. Endast inkludera ingredienser som du FAKTISKT KAN SE i videon.\n7. Var extra uppmärksam på E-nummer och försök identifiera alla du ser.\n","provider":"gemini","service":"koalens-backend","timestamp":"2025-04-01T12:29:32.716Z"}
info: AI Response [gemini] {"completionTokens":375.5,"mediaTokens":"Video content","promptTokens":572.5,"provider":"gemini","responseText":"```json\n{\n  \"ingredients\": [\n    {\n      \"name\": \"Majs\",\n      \"isVegan\": true,\n      \"confidence\": ...","service":"koalens-backend","timestamp":"2025-04-01T12:29:35.942Z"}
warn: Direct JSON parsing failed for AI response. Falling back to regex extraction. {"fullResponse":"```json\n{\n  \"ingredients\": [\n    {\n      \"name\": \"Majs\",\n      \"isVegan\": true,\n      \"confidence\": 0.99\n    },\n    {\n      \"name\": \"Rapsolja\",\n      \"isVegan\": true,\n      \"confidence\": 0.99\n    },\n    {\n      \"name\": \"Vasslepulver\",\n      \"isVegan\": false,\n      \"confidence\": 0.99\n    },\n    {\n      \"name\": \"Salt\",\n      \"isVegan\": true,\n      \"confidence\": 0.99\n    },\n    {\n      \"name\": \"Kärnmjölkspulver\",\n      \"isVegan\": false,\n      \"confidence\": 0.99\n    },\n    {\n      \"name\": \"Ostpulver\",\n      \"isVegan\": false,\n      \"confidence\": 0.99\n    },\n    {\n      \"name\": \"Lökpulver\",\n      \"isVegan\": true,\n      \"confidence\": 0.99\n    },\n    {\n      \"name\": \"Tomatpulver\",\n      \"isVegan\": true,\n      \"confidence\": 0.99\n    },\n    {\n      \"name\": \"Dextros\",\n      \"isVegan\": true,\n      \"confidence\": 0.99\n    },\n    {\n      \"name\": \"Vitlökspulver\",\n      \"isVegan\": true,\n      \"confidence\": 0.99\n    },\n    {\n      \"name\": \"Arom\",\n      \"isVegan\": true,\n      \"confidence\": 0.5\n    },\n    {\n      \"name\": \"Äppelsyra\",\n      \"isVegan\": true,\n      \"confidence\": 0.99\n    },\n    {\n      \"name\": \"Persilja\",\n      \"isVegan\": true,\n      \"confidence\": 0.99\n    },\n    {\n      \"name\": \"Natriumdiacetat\",\n      \"isVegan\": true,\n      \"confidence\": 0.9\n    },\n    {\n      \"name\": \"Cayennepeppar\",\n      \"isVegan\": true,\n      \"confidence\": 0.99\n    },\n    {\n      \"name\": \"Paprikaoleoresin\",\n      \"isVegan\": true,\n      \"confidence\": 0.99\n    }\n  ],\n  \"isVegan\": false,\n  \"confidence\": 0.99\n}\n```","service":"koalens-backend","timestamp":"2025-04-01T12:29:35.943Z"}
info: Successfully parsed and enhanced AI analysis result {"ingredientCount":16,"isUncertain":false,"isVegan":false,"service":"koalens-backend","timestamp":"2025-04-01T12:29:35.945Z"}
info: Video analysis completed {"confidenceScore":0.99,"ingredientCount":16,"isUncertain":false,"isVegan":false,"operation":"response:success","processingTimeSec":0,"requestId":"not-provided","service":"videoAnalysis","statusCode":200,"timestamp":"2025-04-01T12:29:35.945Z","uncertainIngredientsCount":0}
info: Video analysis completed {"ingredientCount":16,"isVegan":false,"processingTimeSec":"9.65","requestId":"not-provided","service":"koalens-backend","timestamp":"2025-04-01T12:29:35.948Z"}