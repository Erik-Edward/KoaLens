2025-04-18T13:30:46.912 app[6e822504c7e598] arn [info] Hämtar räknare "analysis_count" för användare: f9fa0437-5dc7-4094-b946-9e5a549ee7b1

2025-04-18T13:30:46.974 app[6e822504c7e598] arn [info] Hämtar räknare "analysis_count" för användare: f9fa0437-5dc7-4094-b946-9e5a549ee7b1

2025-04-18T13:30:46.982 app[6e822504c7e598] arn [info] info: Health check endpoint accessed {"service":"koalens-backend","timestamp":"2025-04-18T13:30:46.982Z"}

2025-04-18T13:30:47.013 app[6e822504c7e598] arn [info] Räknarinformation hämtad: {

2025-04-18T13:30:47.013 app[6e822504c7e598] arn [info] counter_id: 'a63517c5-a00b-4bc9-878f-5c7a0a818658',

2025-04-18T13:30:47.013 app[6e822504c7e598] arn [info] user_id: 'f9fa0437-5dc7-4094-b946-9e5a549ee7b1',

2025-04-18T13:30:47.013 app[6e822504c7e598] arn [info] counter_name: 'analysis_count',

2025-04-18T13:30:47.013 app[6e822504c7e598] arn [info] value: 0,

2025-04-18T13:30:47.013 app[6e822504c7e598] arn [info] limit: 15,

2025-04-18T13:30:47.013 app[6e822504c7e598] arn [info] remaining: 15,

2025-04-18T13:30:47.013 app[6e822504c7e598] arn [info] is_limited: true,

2025-04-18T13:30:47.013 app[6e822504c7e598] arn [info] has_reached_limit: false,

2025-04-18T13:30:47.013 app[6e822504c7e598] arn [info] reset_frequency: 'monthly',

2025-04-18T13:30:47.013 app[6e822504c7e598] arn [info] last_reset: '2025-04-18T13:30:46.997457+00:00',

2025-04-18T13:30:47.013 app[6e822504c7e598] arn [info] next_reset: '2025-05-18T13:30:46.997457+00:00'

2025-04-18T13:30:47.013 app[6e822504c7e598] arn [info] }

2025-04-18T13:30:47.077 app[6e822504c7e598] arn [info] Räknarinformation hämtad: {

2025-04-18T13:30:47.077 app[6e822504c7e598] arn [info] counter_id: 'a63517c5-a00b-4bc9-878f-5c7a0a818658',

2025-04-18T13:30:47.077 app[6e822504c7e598] arn [info] user_id: 'f9fa0437-5dc7-4094-b946-9e5a549ee7b1',

2025-04-18T13:30:47.077 app[6e822504c7e598] arn [info] counter_name: 'analysis_count',

2025-04-18T13:30:47.077 app[6e822504c7e598] arn [info] value: 0,

2025-04-18T13:30:47.077 app[6e822504c7e598] arn [info] limit: 15,

2025-04-18T13:30:47.077 app[6e822504c7e598] arn [info] remaining: 15,

2025-04-18T13:30:47.077 app[6e822504c7e598] arn [info] is_limited: true,

2025-04-18T13:30:47.077 app[6e822504c7e598] arn [info] has_reached_limit: false,

2025-04-18T13:30:47.077 app[6e822504c7e598] arn [info] reset_frequency: 'monthly',

2025-04-18T13:30:47.077 app[6e822504c7e598] arn [info] last_reset: '2025-04-18T13:30:46.997457+00:00',

2025-04-18T13:30:47.077 app[6e822504c7e598] arn [info] next_reset: '2025-05-18T13:30:46.997457+00:00'

2025-04-18T13:30:47.077 app[6e822504c7e598] arn [info] }

2025-04-18T13:30:47.557 app[6e822504c7e598] arn [info] Hämtar räknare "analysis_count" för användare: f9fa0437-5dc7-4094-b946-9e5a549ee7b1

2025-04-18T13:30:47.605 app[6e822504c7e598] arn [info] Räknarinformation hämtad: {

2025-04-18T13:30:47.605 app[6e822504c7e598] arn [info] counter_id: 'a63517c5-a00b-4bc9-878f-5c7a0a818658',

2025-04-18T13:30:47.605 app[6e822504c7e598] arn [info] user_id: 'f9fa0437-5dc7-4094-b946-9e5a549ee7b1',

2025-04-18T13:30:47.605 app[6e822504c7e598] arn [info] counter_name: 'analysis_count',

2025-04-18T13:30:47.605 app[6e822504c7e598] arn [info] value: 0,

2025-04-18T13:30:47.605 app[6e822504c7e598] arn [info] limit: 15,

2025-04-18T13:30:47.605 app[6e822504c7e598] arn [info] remaining: 15,

2025-04-18T13:30:47.605 app[6e822504c7e598] arn [info] is_limited: true,

2025-04-18T13:30:47.605 app[6e822504c7e598] arn [info] has_reached_limit: false,

2025-04-18T13:30:47.605 app[6e822504c7e598] arn [info] reset_frequency: 'monthly',

2025-04-18T13:30:47.605 app[6e822504c7e598] arn [info] last_reset: '2025-04-18T13:30:46.997457+00:00',

2025-04-18T13:30:47.605 app[6e822504c7e598] arn [info] next_reset: '2025-05-18T13:30:46.997457+00:00'

2025-04-18T13:30:47.605 app[6e822504c7e598] arn [info] }

2025-04-18T13:30:47.615 app[6e822504c7e598] arn [info] info: Health check endpoint accessed {"service":"koalens-backend","timestamp":"2025-04-18T13:30:47.615Z"}

2025-04-18T13:30:47.838 app[6e822504c7e598] arn [info] info: Health check endpoint accessed {"service":"koalens-backend","timestamp":"2025-04-18T13:30:47.838Z"}

2025-04-18T13:30:48.036 app[6e822504c7e598] arn [info] info: Health check endpoint accessed {"service":"koalens-backend","timestamp":"2025-04-18T13:30:48.036Z"}

2025-04-18T13:30:48.527 app[6e822504c7e598] arn [info] info: Health check endpoint accessed {"service":"koalens-backend","timestamp":"2025-04-18T13:30:48.527Z"}

2025-04-18T13:30:48.744 app[6e822504c7e598] arn [info] info: Health check endpoint accessed {"service":"koalens-backend","timestamp":"2025-04-18T13:30:48.744Z"}

2025-04-18T13:30:49.016 app[6e822504c7e598] arn [info] info: Health check endpoint accessed {"service":"koalens-backend","timestamp":"2025-04-18T13:30:49.016Z"}

2025-04-18T13:30:49.275 app[6e822504c7e598] arn [info] info: Health check endpoint accessed {"service":"koalens-backend","timestamp":"2025-04-18T13:30:49.275Z"}

2025-04-18T13:30:49.616 app[e286e727be9368] arn [info] info: Health check endpoint accessed {"service":"koalens-backend","timestamp":"2025-04-18T13:30:49.616Z"}

2025-04-18T13:30:49.816 app[e286e727be9368] arn [info] info: Health check endpoint accessed {"service":"koalens-backend","timestamp":"2025-04-18T13:30:49.816Z"}

2025-04-18T13:30:50.048 app[6e822504c7e598] arn [info] info: Health check endpoint accessed {"service":"koalens-backend","timestamp":"2025-04-18T13:30:50.048Z"}

2025-04-18T13:30:50.233 app[e286e727be9368] arn [info] info: Health check endpoint accessed {"service":"koalens-backend","timestamp":"2025-04-18T13:30:50.233Z"}

2025-04-18T13:30:50.412 app[6e822504c7e598] arn [info] info: Health check endpoint accessed {"service":"koalens-backend","timestamp":"2025-04-18T13:30:50.412Z"}

2025-04-18T13:30:50.600 app[e286e727be9368] arn [info] info: Health check endpoint accessed {"service":"koalens-backend","timestamp":"2025-04-18T13:30:50.600Z"}

2025-04-18T13:30:50.780 app[6e822504c7e598] arn [info] info: Health check endpoint accessed {"service":"koalens-backend","timestamp":"2025-04-18T13:30:50.780Z"}

2025-04-18T13:30:50.975 app[e286e727be9368] arn [info] info: Health check endpoint accessed {"service":"koalens-backend","timestamp":"2025-04-18T13:30:50.974Z"}

2025-04-18T13:30:51.147 app[e286e727be9368] arn [info] info: Health check endpoint accessed {"service":"koalens-backend","timestamp":"2025-04-18T13:30:51.147Z"}

2025-04-18T13:30:51.289 app[e286e727be9368] arn [info] info: Health check endpoint accessed {"service":"koalens-backend","timestamp":"2025-04-18T13:30:51.289Z"}

2025-04-18T13:30:51.544 app[6e822504c7e598] arn [info] info: Health check endpoint accessed {"service":"koalens-backend","timestamp":"2025-04-18T13:30:51.544Z"}

2025-04-18T13:30:51.732 app[6e822504c7e598] arn [info] info: Request received at /video/analyze-video endpoint {"baseUrl":"/api/video","bodyKeys":["base64Data","mimeType","preferredLanguage","requestId"],"contentLength":"13792038","contentType":"application/json","hasBase64Data":true,"hasBody":true,"hasMimeType":true,"method":"POST","originalUrl":"/api/video/analyze-video","path":"/analyze-video","service":"koalens-backend","timestamp":"2025-04-18T13:30:51.732Z"}

2025-04-18T13:30:51.786 app[e286e727be9368] arn [info] info: Health check endpoint accessed {"service":"koalens-backend","timestamp":"2025-04-18T13:30:51.786Z"}

2025-04-18T13:30:51.812 app[6e822504c7e598] arn [info] info: Video analysis request details {"bodyKeys":["base64Data","mimeType","preferredLanguage","requestId"],"bodySize":13792038,"hasBase64Data":true,"hasMimeType":true,"headers":{"accept":"application/json","content-length":"13792038","content-type":"application/json","user-agent":"okhttp/4.9.2"},"ip":"172.16.3.82","method":"POST","service":"koalens-backend","timestamp":"2025-04-18T13:30:51.810Z","url":"/api/video/analyze-video"}

2025-04-18T13:30:51.812 app[6e822504c7e598] arn [info] info: Video analysis request received {"dataSize":13791916,"endpoint":"/api/video/analyze-video","mimeType":"video/quicktime","preferredLanguage":"sv","requestId":"ba640968-7238-4cd9-9999-a7f61cf8eeeb","service":"koalens-backend","timestamp":"2025-04-18T13:30:51.810Z"}

2025-04-18T13:30:51.812 app[6e822504c7e598] arn [info] info: Video analysis request received {"dataSize":13791916,"hasApiKey":true,"mimeType":"video/quicktime","model":"gemini-2.0-flash","preferredLanguage":"sv","service":"koalens-backend","timestamp":"2025-04-18T13:30:51.811Z"}

2025-04-18T13:30:51.812 app[6e822504c7e598] arn [info] info: Video analysis request received {"clientInfo":{},"dataSizeBytes":13791916,"mimeType":"video/quicktime","operation":"request","preferredLanguage":"sv","requestId":"not-provided","service":"videoAnalysis","timestamp":"2025-04-18T13:30:51.811Z"}

2025-04-18T13:30:51.838 app[6e822504c7e598] arn [info] info: Using aggressive video optimization for large video {"service":"koalens-backend","targetResolution":"240p","timestamp":"2025-04-18T13:30:51.838Z","videoSizeMB":9.864747047424316}

2025-04-18T13:30:51.838 app[6e822504c7e598] arn [info] info: Using FAST optimization method for medium video {"service":"koalens-backend","timestamp":"2025-04-18T13:30:51.839Z","videoSizeMB":9.864747047424316}

2025-04-18T13:30:51.997 app[e286e727be9368] arn [info] info: Health check endpoint accessed {"service":"koalens-backend","timestamp":"2025-04-18T13:30:51.997Z"}

2025-04-18T13:30:52.168 app[e286e727be9368] arn [info] info: Health check endpoint accessed {"service":"koalens-backend","timestamp":"2025-04-18T13:30:52.168Z"}

2025-04-18T13:30:52.371 app[6e822504c7e598] arn [info] info: Health check endpoint accessed {"service":"koalens-backend","timestamp":"2025-04-18T13:30:52.371Z"}

2025-04-18T13:30:52.545 app[6e822504c7e598] arn [info] info: Health check endpoint accessed {"service":"koalens-backend","timestamp":"2025-04-18T13:30:52.545Z"}

2025-04-18T13:30:52.716 app[6e822504c7e598] arn [info] info: Health check endpoint accessed {"service":"koalens-backend","timestamp":"2025-04-18T13:30:52.716Z"}

2025-04-18T13:30:52.877 app[6e822504c7e598] arn [info] info: Health check endpoint accessed {"service":"koalens-backend","timestamp":"2025-04-18T13:30:52.876Z"}

2025-04-18T13:30:53.047 app[6e822504c7e598] arn [info] info: Health check endpoint accessed {"service":"koalens-backend","timestamp":"2025-04-18T13:30:53.047Z"}

2025-04-18T13:30:53.222 app[e286e727be9368] arn [info] info: Health check endpoint accessed {"service":"koalens-backend","timestamp":"2025-04-18T13:30:53.221Z"}

2025-04-18T13:30:53.377 app[e286e727be9368] arn [info] info: Health check endpoint accessed {"service":"koalens-backend","timestamp":"2025-04-18T13:30:53.377Z"}

2025-04-18T13:30:53.547 app[e286e727be9368] arn [info] info: Health check endpoint accessed {"service":"koalens-backend","timestamp":"2025-04-18T13:30:53.545Z"}

2025-04-18T13:30:53.660 app[6e822504c7e598] arn [info] info: Fast video optimization completed {"compressionRatio":"18.08","method":"fast","optimizedSizeMB":"0.55","originalSizeMB":"9.86","service":"koalens-backend","timestamp":"2025-04-18T13:30:53.660Z"}

2025-04-18T13:30:53.660 app[6e822504c7e598] arn [info] info: Video optimization completed {"compressionRatio":"18.08","optimizedSizeMB":"0.55","originalSizeMB":"9.86","service":"koalens-backend","timestamp":"2025-04-18T13:30:53.660Z"}

2025-04-18T13:30:53.662 app[6e822504c7e598] arn [info] info: AI Request [gemini] {"generationConfig":{"maxOutputTokens":3072,"temperature":0.2,"topK":40,"topP":0.8},"mediaSizeBytes":572256,"mediaType":"video/quicktime","prompt":"Analysera ingredienserna i videon. Svara ALLTID genom att anropa funktionen 'recordIngredientAnalysis'.\nINSTRUKTIONER:\n1. Identifiera ALLA ingredienser som nämns, både i huvudlistan och i \"kan innehålla spår av\"-varningar.\n2. Var EXTRA NOGGRANN med att separera ingredienser i huvudlistan från ingredienser i \"kan innehålla spår av\"-varningar:\n - Ingredienser som står FÖRE frasen \"kan innehålla spår av\" tillhör huvudlistan (source: \"declared\").\n - ENDAST ingredienser som nämns EFTER frasen \"kan innehålla spår av\" ska märkas som spårämnen (source: \"trace\").\n - Om ett kommatecken förekommer precis före \"kan innehålla\", tillhör ingrediensen före kommat huvudlistan.\n3. För VARJE ingrediens i den returnerade \"ingredients\"-listan, sätt fältet \"source\" till \"declared\" om den kommer från huvudlistan, eller \"trace\" om den ENDAST kommer från en \"kan innehålla spår av\"-varning.\n4. Basera den övergripande \"product_status\" ENDAST på ingredienser med \"source\": \"declared\".\n5. Alla ingrediensnamn i \"translated_name\" MÅSTE vara på svenska.\n\nHANTERING AV INGREDIENSER PÅ FLERA SPRÅK:\n1. Om produkten har ingredienslistor på flera språk (t.ex. svenska, norska, finska), PRIORITERA ALLTID den svenska versionen.\n2. För ingredienser som visas på flera språk, använd ENBART den svenska benämningen i \"translated_name\".\n3. Var vaksam på att samma ingrediens kan ha olika namn på olika språk - identifiera och hantera dem som SAMMA ingrediens.\n4. För \"kan innehålla spår av\"-varningar, kombinera information från alla språk till en enda komplett lista.\n5. Om en ingrediens är tydlig fisk eller ett animaliskt protein, sätt ALLTID \"status\" till \"icke-vegansk\", oavsett språk.\n\nEXEMPEL PÅ HUR DU SKA ANROPA FUNKTIONEN:\nOm texten i videon är: \"...ingredienser: vatten, socker, E120, mjölksyra. Kan innehålla spår av nötter och mjölk.\"\nFörväntat funktionsanrop (förenklat):\n{\n \"product_status\": \"sannolikt icke-vegansk\", // Baserat på E120 (declared)\n \"ingredients\": [\n {\"name\": \"vatten\", \"translated_name\": \"Vatten\", \"status\": \"vegansk\", \"source\": \"declared\", ...},\n {\"name\": \"socker\", \"translated_name\": \"Socker\", \"status\": \"vegansk\", \"source\": \"declared\", ...},\n {\"name\": \"E120\", \"translated_name\": \"E120\", \"status\": \"icke-vegansk\", \"source\": \"declared\", ...},\n {\"name\": \"mjölksyra\", \"translated_name\": \"Mjölksyra\", \"status\": \"vegansk\", \"source\": \"declared\", ...},\n {\"name\": \"nötter\", \"translated_name\": \"Nötter\", \"status\": \"osäker\", \"source\": \"trace\", ...}, // trace ingrediens\n {\"name\": \"mjölk\", \"translated_name\": \"Mjölk\", \"status\": \"icke-vegansk\", \"source\": \"trace\", ...} // trace ingrediens\n ]\n}\n\nVIKTIGT: Om texten innehåller \"mjölksyra, kan innehålla spår av jordnötter\" så är mjölksyra en deklarerad ingrediens (source: \"declared\") och endast jordnötter är ett spårämne (source: \"trace\").\n\nVIKTIGT: Om produkten innehåller termer som \"fisk\", \"Alaska pollock\", \"torsk\", \"lax\" eller andra fisksorter, måste dessa ALLTID markeras som \"icke-vegansk\".\n\nAnalysera nu den aktuella videon enligt dessa instruktioner och exempel.","provider":"gemini","service":"koalens-backend","timestamp":"2025-04-18T13:30:53.662Z","toolsProvided":true}

2025-04-18T13:30:53.712 app[6e822504c7e598] arn [info] info: Health check endpoint accessed {"service":"koalens-backend","timestamp":"2025-04-18T13:30:53.712Z"}

2025-04-18T13:30:53.888 app[6e822504c7e598] arn [info] info: Health check endpoint accessed {"service":"koalens-backend","timestamp":"2025-04-18T13:30:53.888Z"}

2025-04-18T13:30:54.056 app[e286e727be9368] arn [info] info: Health check endpoint accessed {"service":"koalens-backend","timestamp":"2025-04-18T13:30:54.056Z"}

2025-04-18T13:30:54.222 app[e286e727be9368] arn [info] info: Health check endpoint accessed {"service":"koalens-backend","timestamp":"2025-04-18T13:30:54.222Z"}

2025-04-18T13:30:54.397 app[e286e727be9368] arn [info] info: Health check endpoint accessed {"service":"koalens-backend","timestamp":"2025-04-18T13:30:54.397Z"}

2025-04-18T13:30:54.576 app[e286e727be9368] arn [info] info: Health check endpoint accessed {"service":"koalens-backend","timestamp":"2025-04-18T13:30:54.576Z"}

2025-04-18T13:30:54.757 app[6e822504c7e598] arn [info] info: Health check endpoint accessed {"service":"koalens-backend","timestamp":"2025-04-18T13:30:54.757Z"}

2025-04-18T13:30:54.934 app[6e822504c7e598] arn [info] info: Health check endpoint accessed {"service":"koalens-backend","timestamp":"2025-04-18T13:30:54.934Z"}

2025-04-18T13:30:55.125 app[6e822504c7e598] arn [info] info: Health check endpoint accessed {"service":"koalens-backend","timestamp":"2025-04-18T13:30:55.126Z"}

2025-04-18T13:30:55.300 app[e286e727be9368] arn [info] info: Health check endpoint accessed {"service":"koalens-backend","timestamp":"2025-04-18T13:30:55.300Z"}

2025-04-18T13:30:55.465 app[6e822504c7e598] arn [info] info: Health check endpoint accessed {"service":"koalens-backend","timestamp":"2025-04-18T13:30:55.466Z"}

2025-04-18T13:30:55.494 app[6e822504c7e598] arn [info] info: AI Response [gemini] {"completionTokens":0,"functionCallNames":"recordIngredientAnalysis","functionCallPresent":true,"mediaTokens":"Video content","promptTokens":763.5,"provider":"gemini","responseText":"","service":"koalens-backend","timestamp":"2025-04-18T13:30:55.494Z"}

2025-04-18T13:30:55.494 app[6e822504c7e598] arn [info] info: Raw result object from geminiService.generateContentFromVideo: {"service":"koalens-backend","timestamp":"2025-04-18T13:30:55.495Z"}

2025-04-18T13:30:55.496 app[6e822504c7e598] arn [info] info: Raw result.response object: {"service":"koalens-backend","timestamp":"2025-04-18T13:30:55.495Z"}

2025-04-18T13:30:55.496 app[6e822504c7e598] arn [info] info: Raw result.response.functionCalls object: {"service":"koalens-backend","timestamp":"2025-04-18T13:30:55.495Z"}

2025-04-18T13:30:55.496 app[6e822504c7e598] arn [info] info: Gemini API call completed {"geminiApiCallMs":1833,"service":"koalens-backend","timestamp":"2025-04-18T13:30:55.495Z","totalElapsedMs":3684}

2025-04-18T13:30:55.496 app[6e822504c7e598] arn [info] info: Successfully extracted 1 function call from response.candidates path. {"service":"koalens-backend","timestamp":"2025-04-18T13:30:55.495Z"}

2025-04-18T13:30:55.496 app[6e822504c7e598] arn [info] info: Raw validated AI function call arguments (validatedArgs): {"service":"koalens-backend","timestamp":"2025-04-18T13:30:55.496Z"}

2025-04-18T13:30:55.496 app[6e822504c7e598] arn [info] warn: [Enhance Loop No Match] No DB match for: "Majskorn". Keeping AI status. {"service":"koalens-backend","timestamp":"2025-04-18T13:30:55.496Z"}

2025-04-18T13:30:55.501 app[6e822504c7e598] arn [info] info: Ingredient classification corrected {"confidence":0.98,"correctedStatus":true,"ingredient":"Palmolja","isUncertain":false,"operation":"ingredientCorrection","originalIsUncertain":true,"originalStatus":false,"reason":"Palmolja är veganskt: Vegetabilisk olja från oljepalmen","service":"videoAnalysis","timestamp":"2025-04-18T13:30:55.501Z"}

2025-04-18T13:30:55.501 app[6e822504c7e598] arn [info] warn: [Enhance Loop No Match] No DB match for: "Salt". Keeping AI status. {"service":"koalens-backend","timestamp":"2025-04-18T13:30:55.502Z"}

2025-04-18T13:30:55.502 app[6e822504c7e598] arn [info] info: Successfully enhanced analysis result {"confidence":0.98,"ingredientCount":3,"isUncertain":false,"isVegan":true,"nonVeganIngredients":[],"reasoning":"Produkt analyserad (baserat på deklarerade ingredienser): vegan","service":"koalens-backend","timestamp":"2025-04-18T13:30:55.502Z","uncertainIngredients":[],"uncertainReasons":[],"videoProcessed":true}

2025-04-18T13:30:55.502 app[6e822504c7e598] arn [info] info: Video analysis completed by service {"ingredientCount":3,"isUncertain":false,"isVegan":true,"processingTimeSec":"3.77","requestId":"ba640968-7238-4cd9-9999-a7f61cf8eeeb","service":"koalens-backend","timestamp":"2025-04-18T13:30:55.502Z"}

2025-04-18T13:30:55.502 app[6e822504c7e598] arn [info] info: Sending analysis response to client {"confidence":0.98,"ingredientCount":3,"isUncertain":false,"isVegan":true,"nonVeganCount":0,"problemIngredient":null,"responseData":"{\"success\":true,\"result\":{\"success\":true,\"status\":\"vegan\",\"isVegan\":true,\"isUncertain\":false,\"confidence\":0.98,\"ingredientList\":[{\"name\":\"Majskorn\",\"status\":\"vegan\",\"statusColor\":\"#90EE90\",\"description\":\"Ingrediensen \\\"Majskorn\\\" är vegansk.\"},{\"name\":\"Palmolja\",\"status\":\"vegan\",\"statusColor\":\"#90EE90\",\"description\":\"Ingrediensen \\\"Palmolja\\\" är vegansk.\"},{\"name\":\"Salt\",\"status\":\"vegan\",\"statusColor\":\"#90EE90\",\"description\":\"Ingrediensen \\\"Salt\\\" är vegansk.\"}],\"watchedIngredients\":[],\"veganIngredients\":[\"Majskorn\",\"Palmolja\",\"Salt\"],\"nonVeganIngredients\":[],\"uncertainIngredients\":[],\"problemIngredient\":null,\"uncertainReasons\":[],\"reasoning\":\"Produkt analyserad (baserat på deklarerade ingredienser): vegan\",\"usageInfo\":{\"analysesUsed\":0,\"analysesLimit\":10,\"remaining\":10,\"isPremium\":false},\"traceIngredients\":[]}}","service":"koalens-backend","status":"vegan","timestamp":"2025-04-18T13:30:55.503Z","traceIngredients":[],"uncertainCount":0,"veganCount":3}

2025-04-18T13:30:55.810 app[6e822504c7e598] arn [info] Ökar räknare "analysis_count" för användare: f9fa0437-5dc7-4094-b946-9e5a549ee7b1

2025-04-18T13:30:55.867 app[6e822504c7e598] arn [info] info: Health check endpoint accessed {"service":"koalens-backend","timestamp":"2025-04-18T13:30:55.867Z"}

2025-04-18T13:30:55.881 app[6e822504c7e598] arn [info] Räknare ökad: {

2025-04-18T13:30:55.881 app[6e822504c7e598] arn [info] limit: 15,

2025-04-18T13:30:55.881 app[6e822504c7e598] arn [info] value: 1,

2025-04-18T13:30:55.881 app[6e822504c7e598] arn [info] user_id: 'f9fa0437-5dc7-4094-b946-9e5a549ee7b1',

2025-04-18T13:30:55.881 app[6e822504c7e598] arn [info] remaining: 14,

2025-04-18T13:30:55.881 app[6e822504c7e598] arn [info] counter_id: 'a63517c5-a00b-4bc9-878f-5c7a0a818658',

2025-04-18T13:30:55.881 app[6e822504c7e598] arn [info] is_limited: true,

2025-04-18T13:30:55.881 app[6e822504c7e598] arn [info] last_reset: '2025-04-18T13:30:46.997457+00:00',

2025-04-18T13:30:55.881 app[6e822504c7e598] arn [info] next_reset: '2025-05-18T13:30:46.997457+00:00',

2025-04-18T13:30:55.881 app[6e822504c7e598] arn [info] counter_name: 'analysis_count',

2025-04-18T13:30:55.881 app[6e822504c7e598] arn [info] reset_frequency: 'monthly',

2025-04-18T13:30:55.881 app[6e822504c7e598] arn [info] has_reached_limit: false

2025-04-18T13:30:55.881 app[6e822504c7e598] arn [info] }

2025-04-18T13:30:56.045 app[6e822504c7e598] arn [info] info: Health check endpoint accessed {"service":"koalens-backend","timestamp":"2025-04-18T13:30:56.046Z"}

2025-04-18T13:30:56.252 app[6e822504c7e598] arn [info] Hämtar räknare "analysis_count" för användare: f9fa0437-5dc7-4094-b946-9e5a549ee7b1

2025-04-18T13:30:56.292 app[6e822504c7e598] arn [info] Räknarinformation hämtad: {

2025-04-18T13:30:56.292 app[6e822504c7e598] arn [info] counter_id: 'a63517c5-a00b-4bc9-878f-5c7a0a818658',

2025-04-18T13:30:56.292 app[6e822504c7e598] arn [info] user_id: 'f9fa0437-5dc7-4094-b946-9e5a549ee7b1',

2025-04-18T13:30:56.292 app[6e822504c7e598] arn [info] counter_name: 'analysis_count',

2025-04-18T13:30:56.292 app[6e822504c7e598] arn [info] value: 1,

2025-04-18T13:30:56.292 app[6e822504c7e598] arn [info] limit: 15,

2025-04-18T13:30:56.292 app[6e822504c7e598] arn [info] remaining: 14,

2025-04-18T13:30:56.292 app[6e822504c7e598] arn [info] is_limited: true,

2025-04-18T13:30:56.292 app[6e822504c7e598] arn [info] has_reached_limit: false,

2025-04-18T13:30:56.292 app[6e822504c7e598] arn [info] reset_frequency: 'monthly',

2025-04-18T13:30:56.292 app[6e822504c7e598] arn [info] last_reset: '2025-04-18T13:30:46.997457+00:00',

2025-04-18T13:30:56.292 app[6e822504c7e598] arn [info] next_reset: '2025-05-18T13:30:46.997457+00:00'

2025-04-18T13:30:56.292 app[6e822504c7e598] arn [info] }

2025-04-18T13:30:59.843 app[6e822504c7e598] arn [info] warn: Video optimization timed out, using original video {"service":"koalens-backend","timestamp":"2025-04-18T13:30:59.843Z"}